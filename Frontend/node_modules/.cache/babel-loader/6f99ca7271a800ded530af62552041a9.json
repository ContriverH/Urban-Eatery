{"ast":null,"code":"var _jsxFileName = \"/home/nishi/project/v1/Urban-Eatery-1/Frontend/src/components/PastOrder/FoodsPastOrder.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport FoodItemPastOrders from \"./FoodItemPastOrders\";\nimport \"./PastOrder.css\";\nimport firebase from \"../firebase-config\";\nimport { useAuth } from \"../SignUp/useAuth\";\n\nconst FoodsPastOrder = props => {\n  const [type, setType] = useState(\"pastOrder\");\n  const userauth = useAuth();\n  const [foods, setFoods] = useState([]);\n  const [userid, setuserid] = useState();\n  useEffect(() => {\n    const user = () => {\n      const user = firebase.auth().currentUser;\n\n      if (user) {\n        setuserid(user.uid);\n      }\n    };\n\n    user();\n  }, []);\n  useEffect(() => {\n    const fetchdata = async () => {\n      if (userid != undefined) {\n        const Ref = await firebase.firestore().collection(\"users\").doc(userid).collection(\"orders\");\n        Ref.where(\"products\", \"!=\", []).get().then(snap => {\n          snap.forEach(doc => {\n            const data = doc.data()[\"products\"];\n            setFoods(foods => [...foods, data[0]]);\n          });\n        });\n      }\n    };\n\n    fetchdata();\n    setFoods(foods);\n  }, [userid]);\n  const selectedFastFoods = foods;\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"food-area my-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"my-order-heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, \"My Orders\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row my-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, selectedFastFoods.map(food => /*#__PURE__*/React.createElement(FoodItemPastOrders, {\n    food: food,\n    key: food.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nexport default FoodsPastOrder;","map":{"version":3,"sources":["/home/nishi/project/v1/Urban-Eatery-1/Frontend/src/components/PastOrder/FoodsPastOrder.js"],"names":["React","useState","useEffect","Link","FoodItemPastOrders","firebase","useAuth","FoodsPastOrder","props","type","setType","userauth","foods","setFoods","userid","setuserid","user","auth","currentUser","uid","fetchdata","undefined","Ref","firestore","collection","doc","where","get","then","snap","forEach","data","selectedFastFoods","map","food","id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA,OAAO,iBAAP;AACA,OAAOC,QAAP,MAAqB,oBAArB;AACA,SAASC,OAAT,QAAwB,mBAAxB;;AAEA,MAAMC,cAAc,GAAIC,KAAD,IAAW;AAChC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,WAAD,CAAhC;AACA,QAAMU,QAAQ,GAAGL,OAAO,EAAxB;AACA,QAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACa,MAAD,EAASC,SAAT,IAAsBd,QAAQ,EAApC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMc,IAAI,GAAG,MAAM;AACjB,YAAMA,IAAI,GAAGX,QAAQ,CAACY,IAAT,GAAgBC,WAA7B;;AACA,UAAIF,IAAJ,EAAU;AACRD,QAAAA,SAAS,CAACC,IAAI,CAACG,GAAN,CAAT;AACD;AACF,KALD;;AAMAH,IAAAA,IAAI;AACL,GARQ,EAQN,EARM,CAAT;AAUAd,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMkB,SAAS,GAAG,YAAY;AAC5B,UAAIN,MAAM,IAAIO,SAAd,EAAyB;AACvB,cAAMC,GAAG,GAAG,MAAMjB,QAAQ,CACvBkB,SADe,GAEfC,UAFe,CAEJ,OAFI,EAGfC,GAHe,CAGXX,MAHW,EAIfU,UAJe,CAIJ,QAJI,CAAlB;AAKAF,QAAAA,GAAG,CAACI,KAAJ,CAAU,UAAV,EAAsB,IAAtB,EAA4B,EAA5B,EACGC,GADH,GAEGC,IAFH,CAESC,IAAD,IAAU;AACdA,UAAAA,IAAI,CAACC,OAAL,CAAcL,GAAD,IAAS;AACpB,kBAAMM,IAAI,GAAGN,GAAG,CAACM,IAAJ,GAAW,UAAX,CAAb;AACAlB,YAAAA,QAAQ,CAAED,KAAD,IAAW,CAAC,GAAGA,KAAJ,EAAWmB,IAAI,CAAC,CAAD,CAAf,CAAZ,CAAR;AACD,WAHD;AAID,SAPH;AAQD;AACF,KAhBD;;AAiBAX,IAAAA,SAAS;AACTP,IAAAA,QAAQ,CAACD,KAAD,CAAR;AACD,GApBQ,EAoBN,CAACE,MAAD,CApBM,CAAT;AAqBA,QAAMkB,iBAAiB,GAAGpB,KAA1B;AACA,sBACE;AAAS,IAAA,SAAS,EAAC,gBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAI,IAAA,SAAS,EAAC,kBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGoB,iBAAiB,CAACC,GAAlB,CAAuBC,IAAD,iBACrB,oBAAC,kBAAD;AAAoB,IAAA,IAAI,EAAEA,IAA1B;AAAgC,IAAA,GAAG,EAAEA,IAAI,CAACC,EAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADH,CADF,CAFF,CADF,CADF;AAcD,CApDD;;AAsDA,eAAe5B,cAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport FoodItemPastOrders from \"./FoodItemPastOrders\";\nimport \"./PastOrder.css\";\nimport firebase from \"../firebase-config\";\nimport { useAuth } from \"../SignUp/useAuth\";\n\nconst FoodsPastOrder = (props) => {\n  const [type, setType] = useState(\"pastOrder\");\n  const userauth = useAuth();\n  const [foods, setFoods] = useState([]);\n  const [userid, setuserid] = useState();\n\n  useEffect(() => {\n    const user = () => {\n      const user = firebase.auth().currentUser;\n      if (user) {\n        setuserid(user.uid);\n      }\n    };\n    user();\n  }, []);\n\n  useEffect(() => {\n    const fetchdata = async () => {\n      if (userid != undefined) {\n        const Ref = await firebase\n          .firestore()\n          .collection(\"users\")\n          .doc(userid)\n          .collection(\"orders\");\n        Ref.where(\"products\", \"!=\", [])\n          .get()\n          .then((snap) => {\n            snap.forEach((doc) => {\n              const data = doc.data()[\"products\"];\n              setFoods((foods) => [...foods, data[0]]);\n            });\n          });\n      }\n    };\n    fetchdata();\n    setFoods(foods);\n  }, [userid]);\n  const selectedFastFoods = foods;\n  return (\n    <section className=\"food-area my-5\">\n      <div className=\"container\">\n        <h1 className=\"my-order-heading\">My Orders</h1>\n        <div className=\"container\">\n          <div className=\"row my-5\">\n            {selectedFastFoods.map((food) => (\n              <FoodItemPastOrders food={food} key={food.id} />\n            ))}\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default FoodsPastOrder;\n"]},"metadata":{},"sourceType":"module"}